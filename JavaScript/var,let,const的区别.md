### æ”¹é€ ä¸‹é¢çš„ä»£ç ï¼Œä½¿ä¹‹è¾“å‡º0 - 9ï¼Œå†™å‡ºä½ èƒ½æƒ³åˆ°çš„æ‰€æœ‰è§£æ³•ã€‚

// åˆå§‹ä»£ç  -- éš”1ç§’ä¸­æ‰“å°10æ¬¡10
```js
  for (var i = 0; i < 10; i++){
    setTimeout(() => {
      console.log(i);
    }, 1000);
  }
```
è§£é‡Šï¼š`var`å£°æ˜çš„å˜é‡å­˜åœ¨å˜é‡æå‡ï¼Œå†å¾ªç¯ä¹‹å¤–ä¹Ÿå¯ä»¥è®¿é—®ï¼Œæ¯æ¬¡è¿­ä»£éƒ½å…±äº«ç€å˜é‡iï¼Œå¾ªç¯å†…éƒ¨åˆ›å»ºçš„å‡½æ•°å…¨éƒ¨ä¿ç•™äº†å¯¹ç›¸åŒå˜é‡çš„å¼•ç”¨ã€‚

// æ‰“å° 0 - 9

```js
// æ¯æ¬¡å¾ªç¯letéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å˜é‡i,å¹¶å°†å…¶åˆå§‹åŒ–ä¸ºiçš„å½“å‰å€¼ï¼ˆé‡æ–°ç»‘å®šï¼‰ã€‚
  for (let i = 0; i < 10; i++){
    setTimeout(() => {
      console.log(i);
    }, 1000);
  }

// setTimeoutçš„ç¬¬ä¸‰ä¸ªå‚æ•°
  for (var i = 0; i < 10; i++){
    setTimeout(i => {
      console.log(i);
    }, 1000, i);
  }

// `ç«‹å³è°ƒç”¨å‡½æ•°è¡¨è¾¾å¼(IIFE)`
// å¼ºåˆ¶ç”Ÿæˆè®¡æ•°å™¨å˜é‡çš„å‰¯æœ¬ã€‚å‡½æ•°æ¯æ¥å—ä¸€ä¸ªå˜é‡iï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªå‰¯æœ¬ã€‚
  for (var i = 0; i< 10; i++){
    (i => setTimeout(() => {
      console.log(i);
    }, 1000)(i);
  }

// try - catch
  for (var i = 0; i< 10; i++){
    try {
      throw i;
    } catch (i) {
      setTimeout(() => {
        console.log(i);
      }, 1000)
    }
  }
```

[é¢˜æ³•è¯¦è§£](https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/43)

> æ‰©å±•ï¼š

1. `var`, `let`, `const`çš„åŒºåˆ«ï¼Ÿ

[ä¸‰è€…çš„åŒºåˆ«](https://github.com/LiberoWang/dailyBlog/issues/5)

2. `setTimeout`ï¼š

å³ä½¿å»¶è¿Ÿæ—¶é—´è®¾ç½®æˆ0ï¼Œä¹Ÿä¼šç­‰åŒæ­¥ä»£ç æ‰§è¡Œå®Œä¹‹åå†æ‰§è¡Œ`setTimeout`ã€‚
`setTimeout`æœ‰æœ€å¤§çš„å»¶è¿Ÿæ‰§è¡Œæ—¶é—´ï¼Œå¦‚æœè®¾ç½®äº†æœ€å¤§çš„å»¶è¿Ÿæ—¶é—´ï¼Œ`setTimeout`ä¼šç«‹å³æ‰§è¡Œã€‚

åŸå› æ˜¯ï¼š Chromeã€Safariã€Firefox éƒ½æ˜¯ä»¥ 32 ä¸ª bit æ¥å­˜å‚¨å»¶æ—¶å€¼çš„ï¼Œ32bit æœ€å¤§åªèƒ½å­˜æ”¾çš„æ•°å­—æ˜¯ 2147483647 æ¯«ç§’.

`setTimeout`çš„å‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯éœ€è¦å›è°ƒçš„å‡½æ•°ï¼Œå¿…é¡»ä¼ å…¥çš„å‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ—¶é—´é—´éš”ï¼Œæ¯«ç§’æ•°ï¼Œå¯ä»¥çœç•¥ã€‚ä½†å…¶å®ä»–å¯ä»¥æ¥æ”¶æ›´å¤šçš„å‚æ•°ï¼Œé‚£ä¹ˆè¿™äº›å‚æ•°æ˜¯å¹²ä»€ä¹ˆç”¨çš„å‘¢ï¼Ÿä»ç¬¬ä¸‰ä¸ªå‚æ•°å¼€å§‹ï¼Œä¾æ¬¡ç”¨æ¥è¡¨ç¤ºä¼ å…¥å›è°ƒå‡½æ•°çš„å‚æ•°ã€‚

3. ç«‹å³è°ƒç”¨å‡½æ•°è¡¨è¾¾å¼ï¼š
   
è¿™ä¸ªåŒ¿åå‡½æ•°çš„ä½œç”¨å°±æ˜¯åˆ›å»ºç‹¬ç«‹çš„ä½œç”¨åŸŸï¼Œè¿™ä¸ä»…é¿å…äº†å¤–ç•Œè®¿é—®æ­¤ IIFE ä¸­çš„å˜é‡ï¼Œè€Œä¸”åˆä¸ä¼šæ±¡æŸ“å…¨å±€ä½œç”¨åŸŸã€‚(å’Œå—çº§ä½œç”¨åŸŸåŒç†)

*************************************

### å…ˆçœ‹ä¸€ä¸ªä¾‹å­ğŸŒ°ï¼š

```javascript
  var a = 1;
  console.log(window.a);  // 1

  let b = 2;
  console.log(window.b);  //  undefined

  const c = 3;
  console.log(window.c); // undefined
```

```javascript
  console.log(fish1, fish2, fish3);
  var fish1 = function () {
    console.log(1);
  };
  
  function fish2() {
    console.log(2);
  }
  
  var fish3 = 3;
  var fish2;
  console.log(fish1, fish2, fish3);
  // undefined, fish2() {}, undefined
  // f() {}, fish2() {}, 3
```


### å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ

ç®€å•çš„è¯´ï¼Œå½“æµè§ˆå™¨å¼•æ“ä½¿ç”¨å˜é‡æ—¶ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸåŒ…å«ä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼š

**å£°æ˜é˜¶æ®µï¼š**   è¿™ä¸€é˜¶æ®µåœ¨ä½œç”¨åŸŸä¸­æ³¨å†Œäº†ä¸€ä¸ªå˜é‡ã€‚
**åˆå§‹åŒ–é˜¶æ®µï¼š**  è¿™ä¸€é˜¶æ®µåˆ†é…äº†å†…å­˜å¹¶åœ¨ä½œç”¨åŸŸä¸­è®©å†…å­˜å’Œå˜é‡å»ºç«‹ä¸€ä¸ªç»‘å®šå…³ç³»ã€‚åœ¨è¿™ä¸€é˜¶æ®µå˜é‡ä¼šè¢«è‡ªåŠ¨åˆå§‹åŒ–ä¸º`undefined`ã€‚
**èµ‹å€¼é˜¶æ®µï¼š**  è¿™ä¸€é˜¶æ®µæ˜¯ç»™å˜é‡åˆ†é…ä¸€ä¸ªå…·ä½“çš„å€¼ã€‚

ä¸€ä¸ªå˜é‡åœ¨é€šè¿‡å£°æ˜é˜¶æ®µæ—¶ï¼Œä»–è¿˜å¤„äº**æœªåˆå§‹åŒ–**çš„çŠ¶æ€ï¼Œè¿™æ—¶å®ƒä»ç„¶è¿˜æ²¡æœ‰åˆ°è¾¾åˆå§‹åŒ–çš„é˜¶æ®µã€‚

##### ä½œç”¨åŸŸ(scoped)

> å‡½æ•°ä½œç”¨åŸŸ(function scoped)

  æ˜¯æŒ‡å±äºè¿™ä¸ªå‡½æ•°çš„å…¨éƒ¨å˜é‡éƒ½åœ¨æ•´ä¸ªå‡½æ•°çš„èŒƒå›´å†…ä½¿ç”¨å³å¤ç”¨ï¼ˆåµŒå¥—çš„ä½œç”¨åŸŸä¹Ÿå¯ä»¥ä½¿ç”¨ï¼‰

> å—çº§ä½œç”¨åŸŸ(block scoped)

  ES6å¼•ç”¨çš„å—çº§ä½œç”¨åŸŸå…¶å®å°±æ˜¯è¯æ³•ä½œç”¨åŸŸã€‚æˆ‘ä»¬çš„ä»£ç å†™åœ¨å“ªé‡Œå°±åœ¨å“ªé‡Œæ‰§è¡Œï¼Œè¿™ä¸ªæ›´ç¬¦åˆæˆ‘ä»¬çš„ç¼–ç¨‹ä¹ æƒ¯ã€‚æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„èŠ±æ‹¬å·ä¹‹é—´`{ ... }`ä¹‹é—´ï¼Œæ¯è¿›å…¥ä¸€æ¬¡æ‹¬å·å°±ç”Ÿæˆäº†ä¸€ä¸ªå—çº§åŸŸã€‚

### var 

1.  å­˜åœ¨å˜é‡æå‡æœºåˆ¶
2.  function scoped
3. å¯ä»¥è¢«é‡å¤å£°æ˜
4. ä¼šè¦†ç›–windowä¸Šçš„åŸæœ‰å¯¹è±¡

varå£°æ˜çš„å˜é‡ä¸ç®¡åœ¨ä½œç”¨åŸŸä¸­ä»€ä¹ˆä½ç½®å£°æ˜éƒ½ä¼šè¢«æå‡åˆ°ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚

**è§£é‡Šï¼š**

å½“javascripté‡åˆ°ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸï¼ŒåŒ…å«äº†`var result`çš„è¯­å¥ï¼Œåˆ™åœ¨ä»»ä½•è¯­å¥æ‰§è¡Œå‰ï¼Œè¿™ä¸ªå˜é‡åœ¨ä½œç”¨åŸŸçš„å¼€å¤´å°±é€šè¿‡äº†å£°æ˜é˜¶æ®µå¹¶ä¸”é©¬ä¸Šæ¥åˆ°åˆå§‹åŒ–é˜¶æ®µã€‚

åŒæ—¶`var result`åœ¨å‡½æ•°ä½œç”¨åŸŸä¸­çš„ä½ç½®å¹¶ä¸å½±å“å®ƒçš„å£°æ˜å’Œåˆå§‹åŒ–é˜¶æ®µçš„è¿›è¡Œã€‚åœ¨å£°æ˜å’Œåˆå§‹åŒ–é˜¶æ®µä¹‹åï¼Œèµ‹å€¼ä¹‹å‰ï¼Œå˜é‡çš„å€¼éƒ½æ˜¯`undefined`ï¼Œå¹¶å·²ç»å¯ä»¥è¢«ä½¿ç”¨äº†ã€‚

åœ¨èµ‹å€¼é˜¶æ®µ`result = 'value'`è¯­å¥ä½¿å˜é‡æ¥å—äº†å®ƒçš„åˆå§‹å€¼ã€‚
è¿™é‡Œçš„`å˜é‡æå‡`ä¸¥æ ¼çš„è¯´æ˜¯æŒ‡å˜é‡åœ¨å‡½æ•°ä½œç”¨åŸŸçš„å¼€å§‹ä½ç½®å®Œæˆäº†å£°æ˜å’Œåˆå§‹åŒ–é˜¶æ®µï¼Œåœ¨è¿™ä¸¤ä¸ªé˜¶æ®µä¹‹é—´æ²¡æœ‰ä»»ä½•ç¼éš™ã€‚

### let

1.  æœ‰ä¸´æ—¶æ­»åŒº(Temporal dead zone)ï¼Œä¸ä¼šè¢«æå‡
2.  block scoped
3.  ä¸èƒ½é‡å¤å£°æ˜å·²è¿‘å­˜åœ¨çš„å˜é‡
4.  å£°æ˜çš„å˜é‡ä¸ä¼šè¢«è¦†ç›–åˆ°windowä¸Šé¢çš„å˜é‡

> ä¸´æ—¶æ­»åŒº

åœ¨è¿™ä¸ªä½œç”¨åŸŸå˜é‡çš„å£°æ˜åˆ°åˆå§‹åŒ–ä¹‹å‰ï¼Œè¿™ä¸ªå˜é‡éƒ½æ˜¯å¤„äº`ä¸´æ—¶æ­»åŒº`, å½“ä¸­ï¼Œè¿™ä¸ªæ—¶å€™å¼•ç”¨ä»–çš„è¯å°±å›æŠ¥`ReferenceError`çš„é”™è¯¯ï¼Œå…¶å®è¿™ä¸ªä¹ æƒ¯å°±æ˜¯å¸®åŠ©æˆ‘ä»¬å…»æˆåœ¨å˜é‡æœªå£°æ˜ä¹‹å‰ä¸è¦ä½¿ç”¨å®ƒçš„ä¹ æƒ¯ã€‚

`let`å£°æ˜å˜é‡çš„å¤„ç†æ–¹å¼ä¸åŒï¼Œä¸»è¦åŒºåˆ†ç‚¹åœ¨äºå£°æ˜å’Œåˆå§‹åŒ–æ˜¯åˆ†å¼€çš„ã€‚

å½“è§£é‡Šå™¨è¿›å…¥ä¸€ä¸ªåŒ…å«`let result`è¯­å¥çš„å—çº§ä½œç”¨åŸŸä¸­ï¼Œè¿™ä¸ªå˜é‡å°±ç«‹å³é€šè¿‡äº†å£°æ˜ï¼Œå¹¶åœ¨ä½œç”¨åŸŸå†…æ³¨å†Œäº†å®ƒçš„åç§°ã€‚ç„¶åè§£é‡Šå™¨ç»§ç»­è§£æçš„æ—¶å€™ï¼Œå¦‚æœåœ¨è¿™ä¸ªé˜¶æ®µå°è¯•è®¿é—®`result`ï¼Œä¼šæŠ›å‡º`ReferenceError`çš„é”™è¯¯ã€‚æ­¤æ—¶`result`ä»æ˜¯å¤„äºä¸´æ—¶æ­»åŒºçš„ï¼Œå½“è¯­å¥åˆ°è¾¾`let result`æ˜¯ï¼Œå˜é‡é€šè¿‡äº†åˆå§‹åŒ–ï¼Œè®¿é—®`result`çš„å€¼æ˜¯`undefined`ï¼ŒåŒæ—¶å˜é‡ç¦»å¼€ä¸´æ—¶æ­»åŒºã€‚å½“åˆ°è¾¾è¯­å¥`result = 'value'`çš„æ—¶å€™ï¼Œå˜é‡é€šè¿‡äº†èµ‹å€¼é˜¶æ®µã€‚

### const

1.   åœ¨å£°æ˜çš„åŒæ—¶éœ€è¦èµ‹å€¼
2.  æœ‰ä¸´æ—¶æ­»åŒºï¼Œä¸ä¼šè¢«æå‡
3.  block scoped
4.  ä¸èƒ½é‡å¤èµ‹å€¼
5.  å£°æ˜çš„å¯¹è±¡ä¸æ˜¯å…¨å±€å¯¹è±¡çš„å±æ€§(ä¸ä¼šè¢«è¦†ç›–åˆ°windowä¸Šé¢çš„å˜é‡)


### å‡ ä¸ªå£°æ˜å˜å½¢(åªåœ¨è°·æ­Œæµè§ˆå™¨å®éªŒ)

> å—çº§ä½œç”¨åŸŸå†…çš„é»˜è®¤å€¼
```javascript
  console.log(b);
  {
    b = 50;
  }
  //  è¾“å‡º æŠ¥é”™ï¼šReferenceError: b is not defined
```
**bä¸æ˜¯é»˜è®¤ç›¸å½“äºvarå—ï¼Ÿ**ï¼Œäº‹å®æ˜¯ï¼Œä¼šè®¡==å—çº§ä½œç”¨åŸŸå†…çš„å˜é‡å£°æ˜ä¸ä¼šæå‡åˆ°å…¨å±€ä½œç”¨åŸŸçš„é¡¶å±‚ï¼ŒæŸ¥çœ‹windowä¹Ÿå‘ç°windowæ²¡æœ‰è¿™ä¸ªå±æ€§ã€‚

```javascript
  {
    console.log(b);
    b = 50;
  }
 // è¾“å‡ºæŠ¥é”™ï¼šReferenceErrorï¼šb is not defined

----------

  {
     b = 50;
  }
  console.log(b);
  // è¾“å‡º50ï¼Œ ä¸€æ—¦b = 50æ‰§è¡Œåwindowä¸Šå°±æœ‰bè¿™ä¸ªå±æ€§äº†

-----------

 {
    b = 50;
    console.log(b);
 }
 console.log(b);
 // è¾“å‡ºï¼š50 50ï¼Œä¸¤ä¸ªéƒ½è¾“å‡º50
```
```javascript
   console.log(`${window.a},${a}`);
   {
      console.log(`${window.a},${a}`);
       function a(){}
    }
    console.log(`${window.a},${a}`);

  //  è¾“å‡ºï¼š
  //  undefined, undefined
  // undefined, function a() {}
  //  function a(){}, function a() {}
```

```javascript
   console.log(`1 ${window.a},${a}`);
   {
      console.log(`2 ${window.a},${a}`);
      function a(){}
      a = 50;
      console.log(`3 ${window.a},${a}`);
   }
   console.log(`4 ${window.a},${a}`);
  //  è¾“å‡ºï¼š
  //  1 undefined, undefined
  //  2 undefined, function a() {}
  //  3 function a() {}, 50
  //  4 function a() {}, function a() {}
```

```javascript
    console.log(`1 ${window.a},${a}`);
     {
         console.log(`2 ${window.a},${a}`);
         function a(){}
         a = 50;
         function a(){} // å†å¢åŠ ä¸ª
         console.log(`3 ${window.a},${a}`);
      }
     console.log(`4 ${window.a},${a}`);
    //  è¾“å‡ºï¼š
   //  1 undefined, undefined
   //  2 undefined, function a() {}
   //  3 50, 50
   //  4 50, 50
```

å‚è€ƒï¼š
[ç ”ç©¶JSçš„å—çº§ä½œç”¨åŸŸä¸­çš„å˜é‡å£°æ˜å’Œå‡½æ•°å£°æ˜](https://juejin.im/post/6844903955814694919)